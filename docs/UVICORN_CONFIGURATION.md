# RapidOCR Service - å›åˆ° Uvicorn é…ç½®

## ğŸ”„ é…ç½®è®Šæ›´å®Œæˆ

æ ¹æ“šæ‚¨çš„è¦æ±‚ï¼Œæˆ‘å€‘å·²ç¶“æˆåŠŸå°‡å°ˆæ¡ˆé…ç½®å¾ FastAPI CLI å›åˆ°ä½¿ç”¨å‚³çµ±çš„ Uvicorn æœå‹™å™¨ã€‚

## ğŸ“¦ ä¾è³´è®Šæ›´

### ä¹‹å‰ (FastAPI CLI)
```toml
dependencies = [
    "fastapi[standard]>=0.104.0",
    # ...å…¶ä»–ä¾è³´
]
```

### ç¾åœ¨ (Uvicorn)
```toml
dependencies = [
    "fastapi>=0.104.0",
    "uvicorn[standard]>=0.24.0",
    "python-multipart>=0.0.6",
    # ...å…¶ä»–ä¾è³´
]
```

## ğŸš€ é‹è¡Œæ–¹å¼

### é–‹ç™¼æ¨¡å¼
```bash
# ä½¿ç”¨ Makefile
make run

# ç›´æ¥ä½¿ç”¨ uv
uv run uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### ç”Ÿç”¢æ¨¡å¼
```bash
# ä½¿ç”¨ Makefile
make run-prod

# ç›´æ¥ä½¿ç”¨ uv
uv run uvicorn app.main:app --host 0.0.0.0 --port 80
```

## ğŸ³ Docker é…ç½®

### Dockerfile è®Šæ›´
```dockerfile
# ä¹‹å‰
CMD ["/app/.venv/bin/fastapi", "run", "app/main.py", "--port", "80", "--host", "0.0.0.0"]

# ç¾åœ¨
CMD ["/app/.venv/bin/python", "-m", "uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "80"]
```

## âœ… é©—è­‰çµæœ

- âœ… **Uvicorn å•Ÿå‹•**ï¼šæ­£å¸¸å·¥ä½œ
- âœ… **é–‹ç™¼æ¨¡å¼**ï¼šæ”¯æŒ `--reload` ç†±é‡è¼‰
- âœ… **ç”Ÿç”¢æ¨¡å¼**ï¼šæ­£å¸¸é‹è¡Œ
- âœ… **æ‰€æœ‰æ¸¬è©¦**ï¼š12/12 é€šé
- âœ… **é¡å‹æª¢æŸ¥**ï¼šMyPy ç„¡éŒ¯èª¤
- âœ… **ä»£ç¢¼é¢¨æ ¼**ï¼šRuff + Black é€šé
- âœ… **Docker æ§‹å»º**ï¼šé…ç½®å·²æ›´æ–°

## ğŸ¯ å„ªå‹¢

1. **æ›´ç†Ÿæ‚‰çš„å·¥å…·**ï¼šä½¿ç”¨å‚³çµ±çš„ Uvicorn æœå‹™å™¨
2. **å®Œå…¨æ§åˆ¶**ï¼šå°æœå‹™å™¨é…ç½®æœ‰æ›´å¤šæ§åˆ¶æ¬Š
3. **ç©©å®šæ€§**ï¼šæˆç†Ÿçš„ Uvicorn ç”Ÿæ…‹ç³»çµ±
4. **ç›¸å®¹æ€§**ï¼šèˆ‡ç¾æœ‰å·¥å…·éˆå®Œå…¨ç›¸å®¹
5. **éˆæ´»æ€§**ï¼šå¯ä»¥æ›´å®¹æ˜“åœ°è‡ªå®šç¾©æœå‹™å™¨é…ç½®

## ğŸ“š å¸¸ç”¨å‘½ä»¤

```bash
# é–‹ç™¼ç’°å¢ƒ - ç†±é‡è¼‰
make run
# æˆ–
uv run uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# ç”Ÿç”¢ç’°å¢ƒ
make run-prod
# æˆ–
uv run uvicorn app.main:app --host 0.0.0.0 --port 80

# è‡ªå®šç¾©å·¥ä½œé€²ç¨‹æ•¸ (ç”Ÿç”¢ç’°å¢ƒ)
uv run uvicorn app.main:app --host 0.0.0.0 --port 80 --workers 4

# æ¸¬è©¦
make test

# ä»£ç¢¼æª¢æŸ¥
make check-all
```

## ğŸ”§ ä¸»è¦ç‰¹æ€§ä¿æŒä¸è®Š

- æ¨¡çµ„åŒ–æ¶æ§‹ (routers, dependencies)
- å®Œæ•´çš„é¡å‹å®‰å…¨
- ç•°æ­¥ç”Ÿå‘½é€±æœŸç®¡ç†
- è«‹æ±‚æ—¥èªŒå’Œè¿½è¹¤
- å…¨å±€ç•°å¸¸è™•ç†
- CORS æ”¯æŒ
- å¥åº·æª¢æŸ¥ç«¯é»

---

**å°ˆæ¡ˆç¾åœ¨ä½¿ç”¨ Uvicorn ä½œç‚º ASGI æœå‹™å™¨ï¼Œä¿æŒäº†æ‰€æœ‰ç¾ä»£åŒ–æ¶æ§‹çš„å„ªå‹¢ï¼** ğŸš€
