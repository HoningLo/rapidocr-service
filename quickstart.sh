#!/bin/bash
# Quick start script for RapidOCR Service

echo "ğŸš€ RapidOCR FastAPI Service Setup Complete!"
echo "==========================================="
echo ""
echo "ğŸ“‹ Project Summary:"
echo "- FastAPI service with GPU-accelerated OCR processing"
echo "- UUID-based file tracking and management"
echo "- Comprehensive structured logging"
echo "- Multi-image upload support"
echo "- Automatic temporary file cleanup"
echo "- Docker containerization ready"
echo ""
echo "ğŸ”§ Requirements Met:"
echo "âœ… Python 3.13+ with uv package management"
echo "âœ… FastAPI framework with automatic API documentation"
echo "âœ… RapidOCR integration with GPU detection"
echo "âœ… Structured logging with request tracking"
echo "âœ… UUID generation for image tracking"
echo "âœ… Temporary file management with cleanup"
echo "âœ… Multi-image processing support"
echo "âœ… JSON response format: [{FileName, UUID, Context}]"
echo ""
echo "ğŸš€ Quick Start Commands:"
echo ""
echo "1. Start the service:"
echo "   uv run uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload"
echo ""
echo "2. Test health endpoint:"
echo "   curl http://localhost:8000/health"
echo ""
echo "3. Process single image:"
echo "   curl -X POST \"http://localhost:8000/ocr\" -F \"file=@image.jpg\""
echo ""
echo "4. Process multiple images:"
echo "   curl -X POST \"http://localhost:8000/ocr\" -F \"file=@image1.jpg\" -F \"file=@image2.png\""
echo ""
echo "5. View API documentation:"
echo "   http://localhost:8000/docs (Swagger UI)"
echo "   http://localhost:8000/redoc (ReDoc)"
echo ""
echo "6. Run tests:"
echo "   uv run pytest tests/ -v"
echo ""
echo "7. Build and run with Docker:"
echo "   docker-compose up --build"
echo ""
echo "ğŸ“ Project Structure:"
echo "app/                  - Main application code"
echo "â”œâ”€â”€ main.py             - FastAPI application"
echo "â”œâ”€â”€ config.py           - Configuration settings"
echo "â”œâ”€â”€ models.py           - Pydantic data models"
echo "â”œâ”€â”€ ocr_service.py      - OCR processing logic"
echo "â”œâ”€â”€ gpu_utils.py        - GPU detection utilities"
echo "â”œâ”€â”€ file_manager.py     - File management & cleanup"
echo "â””â”€â”€ logging_config.py   - Structured logging setup"
echo ""
echo "tests/                  - Test suite"
echo "temp/                   - Temporary file storage"
echo "Dockerfile             - Container configuration"
echo "docker-compose.yml     - Docker Compose setup"
echo ".env.example           - Environment variables template"
echo ""
echo "ğŸ›ï¸ Constitution: .specify/memory/constitution.md"
echo "ğŸ“Š GPU Status: $(nvidia-smi --query-gpu=name --format=csv,noheader 2>/dev/null || echo 'No GPU detected')"
echo ""
echo "Happy OCR processing! ğŸ”ğŸ“„"
